/* Extended Table of Contents CSS Styles */

/* ==========================================================================
   Header Styles
   ========================================================================== */

.plutoui-toc header {
    cursor: pointer;
}

span.toc-header-container {
    position: fixed;
    display: none;
    --size: 25px;
    height: calc(51px - 1rem);
    flex-direction: row-reverse;
    right: calc(1rem + min(80vh, 300px));
}

.toc-header-icon {
    margin-right: 0.3rem;
    align-self: stretch;
    display: inline-block;
    width: var(--size);
    background-size: var(--size) var(--size);
    background-repeat: no-repeat;
    background-position: center;
    filter: var(--image-filters);
    cursor: pointer;
}

.toc-header-filler {
    margin: .25rem;
}

header:hover span.toc-header-container,
span.toc-header-container:hover {
    display: flex;
}

.toc-header-hide {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/eye-outline.svg);
    opacity: 50%;
    --size: 1em;
}

.toc-header-save {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/save-outline.svg);
    opacity: 50%;
}

nav:not(.file-state-differs) .toc-header-save {
    display: none;
}

pluto-notebook[hide-enabled] span.toc-header-hide {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/eye-off-outline.svg);
}

/* ==========================================================================
   Table of Contents Row Styles
   ========================================================================== */

span.toc-hide-container {
    --width: min(80vw, 300px);
    position: fixed;
    display: flex;
    right: calc(var(--width) + 1rem + 22px - 100px);
    height: var(--height);
    width: 100px;
    z-index: -1;
}

span.toc-hide {
    visibility: hidden;
    opacity: 50%;
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/eye-outline.svg);
    cursor: pointer;
}

div.toc-row.hidden span.toc-hide {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/eye-off-outline.svg);
}

span.toc-hide-container:hover > .toc-hide,
div.toc-row:hover .toc-hide {
    visibility: visible;
}

div.toc-row a {
    display: flex;
}

span.toc-icon {
    --size: 17px;
    display: block;
    align-self: stretch;
    background-size: var(--size) var(--size);
    background-repeat: no-repeat;
    background-position: center;
    width: var(--size);
    filter: var(--image-filters);
}

span.toc-collapse {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/chevron-down.svg);
    margin-right: 3px;
    min-width: var(--size);
}

.plutoui-toc section div.toc-row.collapsed span.toc-collapse {
    background-image: url(https://cdn.jsdelivr.net/gh/ionic-team/ionicons@5.5.1/src/svg/chevron-forward.svg);
}

.plutoui-toc section div.toc-row a span.toc-collapse.no-children {
    background-image: none;
}

div.toc-row.parent-hidden {
    text-decoration: underline dotted .5px;
    text-underline-offset: 2px;
}

div.toc-row.hidden {
    text-decoration: underline dashed 1px;
    text-underline-offset: 2px;
}

.plutoui-toc div.parent-collapsed {
    display: none;
}

pluto-notebook[hide-enabled] div.toc-row.hidden,
pluto-notebook[hide-enabled] div.toc-row.parent-hidden {
    display: none;
}

.drag_enabled .toc-row.dragged {
    border: 2px dashed grey;
}

/* ==========================================================================
   Row Separator Styles
   ========================================================================== */

div.toc-row-separator {
    height: 2px;
    margin: 3px 0px;
    background: #aaa;
    display: none;
}

div.toc-row-separator.active {
    display: block;
}

div.toc-row-separator.active.noshow {
    display: none;
}

/* ==========================================================================
   Always Show Output Styles
   ========================================================================== */

/* This style permits to have a cell whose output is still being shown when
   the cell is hidden. This is useful for having hidden cells that still are
   sending HTML as output (like ToC and BondTable) */

pluto-notebook[hide-enabled] pluto-cell[always-show-output] {
    display: block !important;
}

pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) > pluto-input,
pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) > pluto-shoulder,
pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) > pluto-trafficlight,
pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) > pluto-runarea,
pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) > button {
    display: none;
}

pluto-notebook[hide-enabled] pluto-cell[always-show-output]:not(.code_differs) {
    margin-top: 0px;
}
